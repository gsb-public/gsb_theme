// Main menu

// Full width
#block-system-main-menu
  +clearfix
  background-color: $red-light
  +background(linear-gradient(bottom, $red-light, $red-dark))
  float: left
  +breakpoint(1169px max-width)
    float: none
  li
    border-right: 1px $red-light solid
    font-size: 18px
    float: left
    line-height: 20px
    list-style-type: none
    list-style-image: none
    margin: 0
    padding: 0
    .menu
      display: none
    a
      color: $white
      display: block
      font-family: $font-demi
      margin: 0
      position: relative
      +breakpoint(1170px min-width)
        display: inline-block
        &.active,
        &.active-trail
          +background(linear-gradient(bottom, #9a0101, #6d0101))
        &:hover,
        &.qtip-hover
          background: $grey-27
      +breakpoint(320px max-width)
        max-width: 250px

    // Mobile
    +breakpoint(1169px max-width)
      background: $white
      border: 0
      border-bottom: 1px solid #d5d5d5
      display: block
      float: none
      min-height: 50px
      width: 100%
      a
        color: $red
        padding: 15px 0
        position: relative
        left: 55px
      +icon-before("plus", true)
      &:before
        color: $red
        float: left
        font-size: 14px
        position: relative
        top: 18px
        left: 20px
      &.open
        +icon-before("minus", false)
        .menu
          display: block
      li
        border-bottom: 0
        a
          font-size: 14px
          padding-left: 40px
        &:before
          content: ""
        &.open
          &:before
            content: ""
  +breakpoint(1170px min-width)
    li
      max-width: 107px
      a
        min-height: 62px
        padding: 11px 9px
        width: 106px

// Global search
.global-search
  +breakpoint(1170px min-width)
    height: 0
    margin-top: $top-border-interval
    position: absolute
    top: 0
    right: 0
    .search-closed &,
    .js &
      width: auto
    .js .search-open &
      width: 200px

// Mobile footer menu
#menu-main-footer
  display: none
  +breakpoint(1169px max-width)
    background: $white
    +clearfix
    display: block
    padding: 12px 50px 0 50px
    width: 100%
    .menu
      width: auto
    li
      line-height: 1.2
      padding-bottom: 12px
    a
      font-family: $font-demi
      font-weight: normal
      font-size: 14px
      line-height: 1.3
  .page-seed &,
  .page-exec-ed &
    display: none

#coveo-search-block-form.open
  +breakpoint(1169px max-width)
    display: block

// fix for when search gets in a funny state.
+breakpoint(1199px max-width)
  #navigation.search-closed #coveo-search-block-form.open
    display: none

// Display menu items in 3 columns
.qtip
  .menu-name-main-menu,
  .menu-name-section-12261
    -moz-column-count: 3
    -webkit-column-count: 3
    column-count: 3
