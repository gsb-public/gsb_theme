// Menus in sidebar-first

.region-sidebar-first
  @extend %black-border-top
  @extend %bg-grey-gradient
  padding: 20px 20px 0 24px
  +breakpoint($bp-for-phone-tablet-range)
    border-top: 0
    padding: 0
  // Menu styling
  ul li
    color: $red
    cursor: pointer
    font-size: 16px
    font-weight: bold
    margin-bottom: 16px
    line-height: 1.2
    +breakpoint($bp-tablet-port-max)
      font-size: 14px
      margin-bottom: 22px
      //padding-right: 15px
      &.first
        padding-top: 20px
    +breakpoint($bp-for-phone-only)
      font-size: 14px
    .sub-menus-desktop
      +breakpoint($bp-for-phone-tablet-range)
        display: none
    .sub-menus
      +breakpoint($bp-for-desktop-up)
      display: none
      +breakpoint($bp-for-phone-tablet-range)
        +background(image_url("plus.png") no-repeat 97% center, transparent)
        display: inherit
        margin-right: 20px
        &:after
          color: $red
          display: inline-block
          float: right
          font-size: 18px
          padding-right: 20px
      +breakpoint($bp-for-phone-only)
        display: inherit
        margin-right: 20px

    a
      color: $red
      line-height: 1.2
      &:hover
        color: $link-blue
      +breakpoint($bp-tablet-port-max)
        display: inline-block
        //margin-bottom: 10px
        width: 100%
    // Secondary children
    ul
      padding-left: 16px
      position: relative
      left: 0
      li
        color: $black
        margin: 12px 0
        text-transform: none
        +breakpoint($bp-tablet-port-max)
          &.first
            padding-top: 0
        a
          color: $black
        // Terciary children
        ul li,
        ul li a
          font-weight: normal
          font-family: $font-demi
          // Fourth level and below
          ul li,
          ul li a
            font-family: $font-sans
    a.active
      color: $text-blue
      +icon-before("arrow-double-right", true)
      &:before
        float: left
        font-size: 12px
        line-height: 1.5
        position: relative
        left: -16px
        width: 0

    +breakpoint($bp-for-tablet-range)
      .menu
        background-color: $white
  // Minus for the close on section menus
  +breakpoint($bp-for-phone-tablet-range)
    .content
      .expanded.active-trail,
      .open
        & > .sub-menus
          +background(image_url("minus.png") no-repeat 97% center, transparent)

// Section menu for responsive
// The .open is for the mobile/tablet only and the Desktop doesn't use the open class.
#sidebar
  +breakpoint($bp-tablet-port-max)
    background: $grey-hp
    border-bottom: 1px solid $grey-db
    height: 50px
  +breakpoint($bp-for-phone-only)
    background: $grey-hp
    border-bottom: 1px solid $grey-db
    height: unset
  .page-alumni &
    +breakpoint($bp-for-phone-only)
      border-bottom: 1px solid $grey-db
      height: 42px

#sidebar
  .expanded
    .menu
      display: none
  .expanded.active-trail
    & > .menu
      display: block
  +breakpoint($bp-for-phone-tablet-range)
    // setting everything to closed
    .block-menu.open
      .expanded
        ul
          display: none
          .expanded.open
            & > ul:first-of-type
              display: block
              .expanded.open
                & > ul:first-of-type
                  display: block

      .expanded.level-1.active-trail,
      .expanded.active-trail,
      .expanded.level-1.open
        & > .menu
          display: block
.page-exec-ed,
.page-seed
  // Section menu for responsive
  // The .open is for the mobile/tablet only and the Desktop doesn't use the open class.
  #sidebar
    +breakpoint($bp-tablet-port-max)
      background: $grey-hp
      border-bottom: 1px solid $grey-db
      height: 50px
    +breakpoint($bp-for-phone-only)
      background: $grey-hp
      border-bottom: 1px solid $grey-db
      height: unset

  #sidebar
    .expanded
      .menu
        display: none
    .expanded.active-trail
      & > .menu
        display: block
    +breakpoint($bp-for-phone-tablet-range)
      // setting everything to closed
      .block-menu.open
        .expanded
          ul
            display: none
            border: 1px solid red
            .expanded.open
              & > ul:first-of-type
                display: block
                .expanded.open
                  & > ul:first-of-type
                    display: block


  #sidebar
    .block-menu-block.open
      .menu-block-wrapper
        & > .menu
          +background(linear-gradient(rgba(#e7e7e7, 0.5), rgba($white, 0.5)), $white)
          border-bottom: 3px solid $black
          display: block
          padding-left: 36px

        .expanded.level-1.active-trail,
        .expanded.active-trail,
        .expanded.level-1.open
          & > .menu
            display: block


