// Menus in sidebar-first

.region-sidebar-first
  @extend %black-border-top
  @extend %bg-grey-gradient
  padding: 20px 20px 0 24px
  +breakpoint($bp-for-phone-tablet-range)
    border-top: 0
    padding: 0
  // Menu styling
  ul li
    color: $red
    cursor: pointer
    font-size: 16px
    font-weight: bold
    margin-bottom: 16px
    line-height: 1.2
    +breakpoint($bp-tablet-port-max)
      font-size: 14px
      margin-bottom: 22px
      //padding-right: 15px
      &.first
        padding-top: 22px
    +breakpoint($bp-for-phone-only)
      font-size: 14px
    .sub-menus-desktop
      +breakpoint($bp-for-phone-tablet-range)
        display: none
    .sub-menus
      +breakpoint($bp-for-desktop-up)
      display: none
      +breakpoint($bp-for-phone-tablet-range)
        +background(image_url("plus.png") no-repeat 97% center, transparent)
        display: inherit
        margin-right: 20px
        &:after
          color: $red
          display: inline-block
          float: right
          font-size: 18px
          padding-right: 20px
      +breakpoint($bp-for-phone-only)
        display: inherit
        margin-right: 20px

    a
      color: $red
      line-height: 1.2
      &:hover
        color: $link-blue
      +breakpoint($bp-tablet-port-max)
        display: inline-block
        //margin-bottom: 10px
        width: 100%
    // Secondary children
    ul
      padding-left: 16px
      position: relative
      left: 0
      li
        color: $black
        margin: 12px 0
        text-transform: none
        +breakpoint($bp-tablet-port-max)
          &.first
            padding-top: 0
        a
          color: $black
        // Terciary children
        ul li,
        ul li a
          font-weight: normal
          font-family: $font-demi
          // Fourth level and below
          ul li,
          ul li a
            font-family: $font-sans
    a.active
      color: $text-blue
      +icon-before("arrow-double-right", true)
      &:before
        float: left
        font-size: 12px
        line-height: 1.5
        position: relative
        left: -16px
        width: 0

    +breakpoint($bp-for-tablet-range)
      .menu
        background-color: $white
  // Minus for the close on section menus
  +breakpoint($bp-for-phone-tablet-range)
    .content
      .expanded.active-trail,
      .open
        & > span
          +background(image_url("minus.png") no-repeat 97% center, transparent)

// Section menu for responsive
// The .open is for the mobile/tablet only and the Desktop doesn't use the open class.
#sidebar
  +breakpoint($bp-tablet-port-max)
    background: $grey-hp
    border-bottom: 1px solid $grey-db
    height: 50px
  +breakpoint($bp-for-phone-only)
    background: $grey-hp
    border-bottom: 1px solid $grey-db
    height: unset
  .page-alumni &
    +breakpoint($bp-for-phone-only)
      border-bottom: 1px solid $grey-db
      height: 42px

  ul.menu
    li.expanded
      ul.menu
        display: none

  .menu
    +breakpoint($bp-for-phone-tablet-range)
      .expanded,
      .active-trail
        li
          padding-left: 30px

    li.expanded ul
      display: none

    // active class displays
    li.expanded.open > ul
      display: block

    li.expanded.open > ul:first-of-type,
    li.expanded.active-trail > ul:first-of-type
      display: block

    // This does the hiding of the open menu when you are on a particular page. We may want to remove it.
    //+breakpoint($bp-for-phone-tablet-range)
    //  li.expanded.active-trail.top-level > ul
    //    display: none
    //  li.expanded.active-trail.top-level.open > ul
    //    display: block
